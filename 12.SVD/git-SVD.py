# -*- coding: utf-8 -*-
"""
Created on Mon Apr 25 11:35:54 2016

@author: yangzhou
"""

from numpy import *
from numpy import linalg as la


#def loadExData2():
#    return[[0, 0, 0, 0, 0, 4, 0, 0, 0, 0, 5],
#           [0, 0, 0, 3, 0, 4, 0, 0, 0, 0, 3],
#           [0, 0, 0, 0, 4, 0, 0, 1, 0, 4, 0],
#           [3, 3, 4, 0, 0, 0, 0, 2, 2, 0, 0],
#           [5, 4, 5, 0, 0, 0, 0, 5, 5, 0, 0],
#           [0, 0, 0, 0, 5, 0, 1, 0, 0, 5, 0]]
           
#def loadExData2():
#    return[[0, 0, 0, 0, 0, 4, 0, 0, 0, 0, 5],
#           [0, 0, 0, 3, 0, 4, 0, 0, 0, 0, 3],
#           [0, 0, 0, 0, 4, 0, 0, 1, 0, 4, 0],
#           [3, 3, 4, 0, 0, 0, 0, 2, 2, 0, 0],
#           [5, 4, 5, 0, 0, 0, 0, 5, 5, 0, 0],
#           [0, 0, 0, 0, 5, 0, 1, 0, 0, 5, 0],
#           [4, 3, 4, 0, 0, 0, 0, 5, 5, 0, 1],
#           [0, 0, 0, 4, 0, 4, 0, 0, 0, 0, 4],
#           [0, 0, 0, 2, 0, 2, 5, 0, 0, 1, 2],
#           [0, 0, 0, 0, 5, 0, 0, 0, 0, 4, 0],
#           [1, 0, 0, 0, 0, 0, 0, 1, 2, 0, 0]]

def loadExData2():
    return[[0, 0, 0, 0, 0, 4, 0, 0],
           [0, 0, 0, 3, 0, 4, 0, 0],
           [0, 0, 0, 0, 4, 0, 0, 1],
           [3, 3, 4, 0, 0, 0, 0, 2],
           [5, 4, 5, 0, 0, 0, 0, 5],
           [0, 0, 0, 0, 5, 0, 1, 0],
           [4, 3, 4, 0, 0, 0, 0, 5],
           [0, 0, 0, 4, 0, 4, 0, 0],
           [0, 0, 0, 2, 0, 2, 5, 0],
           [0, 0, 0, 0, 5, 0, 0, 0],
           [1, 0, 0, 0, 0, 0, 0, 1]]

A=loadExData2()
A=mat(A)
U,Sigma,VT = la.svd(A)
Sig4 = mat(eye(4)*Sigma[:4]) #arrange Sig4 into a diagonal matrix
xformedItems = A.T * U[:,:4] * Sig4.I 
a=mat(VT).T
linalg.matrix_rank(VT)
U*U.T














